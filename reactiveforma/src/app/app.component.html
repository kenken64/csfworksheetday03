<div class="container">
  <h1>RSVP Form</h1>
  <form [formGroup]="form" (ngSubmit)="processForm()">
      <div class="form-group">
        <label>Name:  
        </label>
        <input type="text" id="name" formControlName="name"
        [class.valid]="name.valid && 
        (name.dirty || name.touched)"
        [class.invalid]="name.invalid && 
        (name.dirty || name.touched)">
        <div *ngIf="name.invalid && (name.dirty || name.touched)"
          class="text-danger">
          <div *ngIf="name.errors.required">
            Name is required.
          </div>
          <div *ngIf="name.errors.forbiddenName">
            Name cannot be Kenneth.
          </div>
        </div>
      </div>
      
      <div class="form-group">
          <label>Email:  
          </label>
          <input type="text" id="email" formControlName="email"
          [class.valid]="email.valid && 
          (email.dirty || email.touched)"
          [class.invalid]="email.invalid && 
          (email.dirty || email.touched)"/>
          <div *ngIf="email.invalid && (email.dirty || email.touched)"
            class="text-danger">
            <div *ngIf="email.errors.required">
              Email is required.
            </div>
            <div *ngIf="email.errors.email">
              Invalid email.
            </div>
          </div>
      </div>
      <div class="form-group">
          <label>Phone:</label>
            <input type="text" formControlName="phone"
            [class.valid]="phone.valid && 
          (phone.dirty || phone.touched)"
          [class.invalid]="phone.invalid && 
          (phone.dirty || phone.touched)"/>
          <div *ngIf="phone.invalid && (phone.dirty || phone.touched)"
            class="text-danger">
            <div *ngIf="phone.errors.required">
              Phone is required.
            </div>
            <div *ngIf="phone.errors.minlength">
              Must be at least 4 digit
            </div>
          </div>
      </div>
      <div class="form-group">
          <label>Attending:
              <input type="radio" value="yes" formControlName="attending"
              >Yes
              <input type="radio" value="no" formControlName="attending"
              >No
          </label>
          <div *ngIf="attending.invalid && (attending.dirty || attending.touched)"
            class="text-danger">
            <div *ngIf="attending.errors.required">
              Attending is required.
            </div>
          </div>
      </div>
      
      <button type="submit" class="btn btn-success" [disabled]="form.invalid">
        Send
      </button>
    </form>
</div>